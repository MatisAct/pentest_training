# creat connect in php


### syntax connect databse

- `mysqli_connection("servername","username","password")`

-  `servername` exam:www.google.com, localhost

- `username` :name admin , with localhost name=root

- `password` : your pass , with localhost : you can't password
  
  **exam**
  ```
$conn = mysqli_connect($servername, $username, $password);
// Check connection
if (!$conn) {
    die("Connection failed: " . mysqli_connect_error());
}


  ```

### creat database
- mysqli_query($server-connect,"CREAT DATABASE dbsname")

**exam**

```
$sql="CREAT DATABASE exam";
if (mysql_query(#conn,$sql)){
 echo ("congratulation ! ! connect successfully")
}

else
{
echo "sorry you cant't creat database! you can try again! ! !"
}
mysqli_close($conn);# hàm này để đóng kết nối lại 

```
### creat table
 - syntax:`CREAT TABLE tablename(các thuộc tính bên trong phải tự google nhé)
 **exam**
 ```
$sql = "CREATE TABLE MyGuests (
id INT(6) UNSIGNED AUTO_INCREMENT PRIMARY KEY, 
firstname VARCHAR(30) NOT NULL,
lastname VARCHAR(30) NOT NULL,
email VARCHAR(50),
reg_date TIMESTAMP thời gian update data
)";

if (mysqli_query($conn, $sql)) {
    echo "Table MyGuests created successfully";
} else {
    echo "Error creating table: " . mysqli_error($conn);
}


 ```

 ### insert data
 - syntax `"INSET INTO tablename(column1, column2...) value(giá trị tương ứng )";

 **exam**
 ```
 $sql = "INSERT INTO MyGuests (firstname, lastname, email)
VALUES ('Trần', 'Duy', 'duy@example.com')";

if ($conn->query($sql) === TRUE) {
    echo "New record created successfully";
} else {
    echo "Error: " . $sql . "<br>" . $conn->error;
}
```
- muốn thêm nhiều giá trị thì thêm vào đoạn  `$sql.= giá trị như trên` hàm tự động thêm tiếp giá trị này vào sau giá trị đầu 

### select data from database

- syntax :`select 

## một số function trong truy vấn sql php

-`mysqli_affected_rows($link_connect)` :sẽ lấy về số hàng đã bị ảnh hưởng bởi các câu truy vấn INSERT, UPDATE, REPLACE hoặc DELETE vừa truy vấn gần nhất. , với `$link_connect` là một kết nối MYSQL. Nếu không được truyền vào, `$link_connect` sẽ lấy giá trị của kết nối cuối cùng được mở bởi hàm ` mysql_connect()`

-`mysqli_fetch_assoc($result)` sẽ tìm và trả về một dòng kết quả của một truy vấn MySQL nào đó dưới dạng một mảng kết hợp., `$result` là kết quả của truy vấn, là kết quả trả về của các hàm: mysqli_query(), mysqli_store_result() hoặc `mysqli_use_result()`

**exam**

```
$sql = "SELECT id, firstname, lastname FROM MyGuests";
$result = mysqli_query($conn, $sql);

if (mysqli_num_rows($result) > 0) {
    // output data of each row
    while($row = mysqli_fetch_assoc($result)) {
        echo "id: " . $row["id"]. " - Name: " . $row["firstname"]. " " . $row["lastname"]. "<br>";
```
